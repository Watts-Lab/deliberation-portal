<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Test turk return</title>
    <!-- <meta name="description" content="Tab Description">
  <meta name="author" content="content"> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/themes/smoothness/jquery-ui.css"> -->
    <!-- <link href="https://s3.amazonaws.com/mturk-public/bs30/css/bootstrap.min.css" rel="stylesheet" /> -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script> -->
  </head>

  <body>
    <div>
      <form id="turkSubmissionForm" action="" method="POST">
        <!-- <input type="hidden" id="user-input" value="" name="user-input"/>
      <input type="hidden" id="assignmentId" value="" name="assignmentId"/>
      <input type="hidden" id="workerId" value="" name="workerId"/>
      <input type="hidden" id="hitId" value="" name="hitId"/> -->
        user-input:
        <input id="user-input" value="" name="user-input" />
        assignmentId:
        <input id="assignmentId" value="" name="assignmentId" />
        workerId:
        <input id="workerId" value="" name="workerId" />
        hitId
        <input id="hitId" value="" name="hitId" />
        submit to turk:
        <button type="submit" form="turkSubmissionForm" value="Submit">
          Submit
        </button>
      </form>
    </div>
  </body>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const submitURL = urlParams.get("turkSubmitTo") + "/mturk/externalSubmit";

    // Populate form with URL parameters
    $("#turkSubmissionForm").attr("action", urlParams.get("turkSubmitTo"));
    $("#assignmentId").val(urlParams.get("assignmentId"));
    $("#workerId").val(urlParams.get("workerId"));
    $("#hitId").val(urlParams.get("hitId"));

    //   //Pop up a confirmation message, populate user-input field, and send out the form.
    //   function endDialog()
    //   {
    //     $( "#end-dialog-message" ).dialog({
    //       resizable: false,
    //       height:140,
    //       modal: true,
    //       buttons: {
    //         "Submit Results?": function() {
    //           var string = "whateverFinalResultsWeWantToPass";
    //           $('#user-input').val(string);
    //           $("#turkSubmissionForm").submit();
    //           $( this ).dialog( "close" );
    //         },
    //         Cancel: function() {
    //           $( this ).dialog( "close" );
    //         }
    //       }
    //     });
    //   }

    //   //Sets trigger for confirmation message.
    //   $('#example').click(function(){
    //     endDialog();
    //   });
  </script>
</html>
